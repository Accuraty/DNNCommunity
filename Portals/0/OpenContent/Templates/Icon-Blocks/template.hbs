{{#if Context.IsEditable}}
{{registerscript "../_Shared/sort/js/Sortable.min.js"}}
{{registerscript "../_Shared/sort/js/Open-Content-Sort.js"}}
{{/if}}

{{!-- 
Updated to fix having links open in new window 20241125 JRF (Jeremy Farrance)
In the schema, the field was named NewWindow, not "Target" so the code in this 
template was was not working, example:
	<a class="text-link" href="{{Url}}" target="{{Target}}"></a>

Fixed in two places below, search for "NewWindow"...
--}}

<section class="oc-icon-blocks">
	<div class="wrap">
		<div class="row">
		<div class="col-12">
			<div class="row sortableList justify-content-center" data-moduleid="{{Context.ModuleId}}">
			{{#each Items}}
				<div class="item col-12 col-lg-4" data-id="{{Context.Id}}">
					<div class="item-content item-content-{{@index}}">
					
					{{#if Context.IsEditable}}
					<div class="sorthandle text-right">
						<a class="edit-link" href="{{Context.EditUrl}}"><i class="fa fa-pencil edit-link" aria-hidden="true"></i></a>
						<span class="fa fa-arrows edit-link" aria-hidden="true" style="cursor: move;cursor: -webkit-grabbing;"></span>
					</div>
					{{/if}}
					<a class="text-link" href="{{Url}}" {{#if NewWindow}}target="_blank"{{/if}}>
					<div class="content">
							{{#if Visuals.Icon}}
								<div class="icon text-center">
									<i class="{{Visuals.Icon}}"></i>
								</div>
							{{/if}}
							
							
							
							{{#if Texts.Title}}
							<h2 class="title text-center">{{Texts.Title}}</h2>
							{{/if}}
							
								{{#if Texts.Text}}
									<div class="text">
									{{Texts.Text}}
									</div>
								{{/if}}

						</div>
						</a>

						<div class="buttons text-center">
							<a class="btn btn-primary" href="{{Url}}" {{#if NewWindow}}target="_blank"{{/if}}>{{ButtonText}}</a>
						</div>

					</div>

					
				</div>
			{{/each}}
			
			</div>
			</div>
		</div>
	</div>
</section>
